{"version":3,"sources":["node_modules/remarkable/lib/rules_inline/entity.js"],"names":["entities","require","has","isValidEntityCode","fromCodePoint","DIGITAL_RE","NAMED_RE","module","exports","entity","state","silent","ch","code","match","pos","max","posMax","src","charCodeAt","slice","toLowerCase","parseInt","pending","length"],"mappings":"AAAA;;AAEA;;AAEA,IAAIA,WAAoBC,QAAQ,oBAAR,CAAxB;AACA,IAAIC,MAAoBD,QAAQ,iBAAR,EAA2BC,GAAnD;AACA,IAAIC,oBAAoBF,QAAQ,iBAAR,EAA2BE,iBAAnD;AACA,IAAIC,gBAAoBH,QAAQ,iBAAR,EAA2BG,aAAnD;;AAGA,IAAIC,aAAa,sCAAjB;AACA,IAAIC,WAAa,2BAAjB;;AAGAC,OAAOC,OAAP,GAAiB,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;AAC9C,MAAIC,EAAJ;AAAA,MAAQC,IAAR;AAAA,MAAcC,KAAd;AAAA,MAAqBC,MAAML,MAAMK,GAAjC;AAAA,MAAsCC,MAAMN,MAAMO,MAAlD;;AAEA,MAAIP,MAAMQ,GAAN,CAAUC,UAAV,CAAqBJ,GAArB,MAA8B,IAAlC,CAAsC,OAAtC,EAA+C;AAAE,aAAO,KAAP;AAAe;;AAEhE,MAAIA,MAAM,CAAN,GAAUC,GAAd,EAAmB;AACjBJ,SAAKF,MAAMQ,GAAN,CAAUC,UAAV,CAAqBJ,MAAM,CAA3B,CAAL;;AAEA,QAAIH,OAAO,IAAX,CAAgB,OAAhB,EAAyB;AACvBE,gBAAQJ,MAAMQ,GAAN,CAAUE,KAAV,CAAgBL,GAAhB,EAAqBD,KAArB,CAA2BT,UAA3B,CAAR;AACA,YAAIS,KAAJ,EAAW;AACT,cAAI,CAACH,MAAL,EAAa;AACXE,mBAAOC,MAAM,CAAN,EAAS,CAAT,EAAYO,WAAZ,OAA8B,GAA9B,GAAoCC,SAASR,MAAM,CAAN,EAASM,KAAT,CAAe,CAAf,CAAT,EAA4B,EAA5B,CAApC,GAAsEE,SAASR,MAAM,CAAN,CAAT,EAAmB,EAAnB,CAA7E;AACAJ,kBAAMa,OAAN,IAAiBpB,kBAAkBU,IAAlB,IAA0BT,cAAcS,IAAd,CAA1B,GAAgDT,cAAc,MAAd,CAAjE;AACD;AACDM,gBAAMK,GAAN,IAAaD,MAAM,CAAN,EAASU,MAAtB;AACA,iBAAO,IAAP;AACD;AACF,OAVD,MAUO;AACLV,cAAQJ,MAAMQ,GAAN,CAAUE,KAAV,CAAgBL,GAAhB,EAAqBD,KAArB,CAA2BR,QAA3B,CAAR;AACA,UAAIQ,KAAJ,EAAW;AACT,YAAIZ,IAAIF,QAAJ,EAAcc,MAAM,CAAN,CAAd,CAAJ,EAA6B;AAC3B,cAAI,CAACH,MAAL,EAAa;AAAED,kBAAMa,OAAN,IAAiBvB,SAASc,MAAM,CAAN,CAAT,CAAjB;AAAsC;AACrDJ,gBAAMK,GAAN,IAAaD,MAAM,CAAN,EAASU,MAAtB;AACA,iBAAO,IAAP;AACD;AACF;AACF;AACF;;AAED,MAAI,CAACb,MAAL,EAAa;AAAED,UAAMa,OAAN,IAAiB,GAAjB;AAAuB;AACtCb,QAAMK,GAAN;AACA,SAAO,IAAP;AACD,CAjCD","file":"entity.js","sourceRoot":"/Users/liangdong06/work/react-tools","sourcesContent":["// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n"]}