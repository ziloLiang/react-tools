{"version":3,"sources":["node_modules/remarkable/lib/helpers/parse_link_label.js"],"names":["module","exports","parseLinkLabel","state","start","level","found","marker","labelEnd","max","posMax","oldPos","pos","oldFlag","isInLabel","labelUnmatchedScopes","src","charCodeAt","parser","skipToken"],"mappings":"AAAA;;AAEA;;;;;;;;;;;AAWAA,OAAOC,OAAP,GAAiB,SAASC,cAAT,CAAwBC,KAAxB,EAA+BC,KAA/B,EAAsC;AACrD,MAAIC,KAAJ;AAAA,MAAWC,KAAX;AAAA,MAAkBC,MAAlB;AAAA,MACIC,WAAW,CAAC,CADhB;AAAA,MAEIC,MAAMN,MAAMO,MAFhB;AAAA,MAGIC,SAASR,MAAMS,GAHnB;AAAA,MAIIC,UAAUV,MAAMW,SAJpB;;AAMA,MAAIX,MAAMW,SAAV,EAAqB;AAAE,WAAO,CAAC,CAAR;AAAY;;AAEnC,MAAIX,MAAMY,oBAAV,EAAgC;AAC9BZ,UAAMY,oBAAN;AACA,WAAO,CAAC,CAAR;AACD;;AAEDZ,QAAMS,GAAN,GAAYR,QAAQ,CAApB;AACAD,QAAMW,SAAN,GAAkB,IAAlB;AACAT,UAAQ,CAAR;;AAEA,SAAOF,MAAMS,GAAN,GAAYH,GAAnB,EAAwB;AACtBF,aAASJ,MAAMa,GAAN,CAAUC,UAAV,CAAqBd,MAAMS,GAA3B,CAAT;AACA,QAAIL,WAAW,IAAf,CAAoB,OAApB,EAA6B;AAC3BF;AACD,OAFD,MAEO,IAAIE,WAAW,IAAf,CAAoB,OAApB,EAA6B;AAClCF;AACA,YAAIA,UAAU,CAAd,EAAiB;AACfC,kBAAQ,IAAR;AACA;AACD;AACF;;AAEDH,UAAMe,MAAN,CAAaC,SAAb,CAAuBhB,KAAvB;AACD;;AAED,MAAIG,KAAJ,EAAW;AACTE,eAAWL,MAAMS,GAAjB;AACAT,UAAMY,oBAAN,GAA6B,CAA7B;AACD,GAHD,MAGO;AACLZ,UAAMY,oBAAN,GAA6BV,QAAQ,CAArC;AACD;;AAED;AACAF,QAAMS,GAAN,GAAYD,MAAZ;AACAR,QAAMW,SAAN,GAAkBD,OAAlB;;AAEA,SAAOL,QAAP;AACD,CA7CD","file":"parse_link_label.js","sourceRoot":"/Users/liangdong06/work/react-tools","sourcesContent":["'use strict';\n\n/**\n * Parse link labels\n *\n * This function assumes that first character (`[`) already matches;\n * returns the end of the label.\n *\n * @param  {Object} state\n * @param  {Number} start\n * @api private\n */\n\nmodule.exports = function parseLinkLabel(state, start) {\n  var level, found, marker,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos,\n      oldFlag = state.isInLabel;\n\n  if (state.isInLabel) { return -1; }\n\n  if (state.labelUnmatchedScopes) {\n    state.labelUnmatchedScopes--;\n    return -1;\n  }\n\n  state.pos = start + 1;\n  state.isInLabel = true;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5B /* [ */) {\n      level++;\n    } else if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n    state.labelUnmatchedScopes = 0;\n  } else {\n    state.labelUnmatchedScopes = level - 1;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  state.isInLabel = oldFlag;\n\n  return labelEnd;\n};\n"]}