{"version":3,"sources":["demos/utils/xhr.js"],"names":["method","url","data","options","promise","set","Accept","send","then","result","JSON","parse","res","text","cancel"],"mappings":"AAAA;;;;;;;;;AASA;;;;;;AAEA;;;;;;kBAEe,UAACA,MAAD,EAASC,GAAT,EAA0C;AAAA,QAA5BC,IAA4B,uEAArB,EAAqB;AAAA,QAAjBC,OAAiB,uEAAP,EAAO;;AACrD,QAAIC,UAAU,yCAAQJ,MAAR,EAAgBC,GAAhB,EACTI,GADS,CACL,EAACC,QAAQ,kBAAT,EADK,EAETD,GAFS,CAEL,kBAFK,EAEe,gBAFf,EAGTA,GAHS,CAGL,eAHK,EAGY,8CAHZ,EAITE,IAJS,CAIJL,IAJI,EAKTM,IALS,CAKJ,eAAO;AACT,YAAIC,SAASC,KAAKC,KAAL,CAAWC,IAAIC,IAAf,CAAb;AACA,eAAOJ,MAAP;AACH,KARS,EAQP,eAAO;AACNL,gBAAQU,MAAR;AACH,KAVS,CAAd;;AAYA,WAAOV,OAAP;AACH,C","file":"xhr.js","sourceRoot":"/Users/liangdong06/work/react-tools","sourcesContent":["/**\n * @file  [Promise]\n * @param  {String} method [默认GET]\n * @param  {String} url    [URL]\n * @param  {Object} data   [data]\n * @param  {Object} options [noLoading, noDeal]\n * @return {Promise}       []\n */\n\n'use strict';\n\nimport request from 'superagent-bluebird-promise';\n\nexport default (method, url, data = {}, options = {}) => {\n    let promise = request(method, url)\n        .set({Accept: 'application/json'})\n        .set('X-Requested-With', 'XMLHttpRequest')\n        .set('Cache-Control', 'no-cache,no-store,must-revalidate,max-age=-1')\n        .send(data)\n        .then(res => {\n            let result = JSON.parse(res.text);\n            return result;\n        }, err => {\n            promise.cancel();\n        });\n\n    return promise;\n};\n"]}