{"version":3,"sources":["node_modules/dom-helpers/query/position.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","default","position","_offset","require","_offset2","_interopRequireDefault","_offsetParent","_offsetParent2","_scrollTop","_scrollTop2","_scrollLeft","_scrollLeft2","_style","_style2","obj","__esModule","nodeName","node","toLowerCase","offsetParent","parentOffset","top","left","offset","getBoundingClientRect","parseInt","module"],"mappings":"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","file":"position.js","sourceRoot":"/Users/liangdong06/work/react-tools","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = position;\n\nvar _offset = require('./offset');\n\nvar _offset2 = _interopRequireDefault(_offset);\n\nvar _offsetParent = require('./offsetParent');\n\nvar _offsetParent2 = _interopRequireDefault(_offsetParent);\n\nvar _scrollTop = require('./scrollTop');\n\nvar _scrollTop2 = _interopRequireDefault(_scrollTop);\n\nvar _scrollLeft = require('./scrollLeft');\n\nvar _scrollLeft2 = _interopRequireDefault(_scrollLeft);\n\nvar _style = require('../style');\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction nodeName(node) {\n  return node.nodeName && node.nodeName.toLowerCase();\n}\n\nfunction position(node, offsetParent) {\n  var parentOffset = { top: 0, left: 0 },\n      offset;\n\n  // Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n  // because it is its only offset parent\n  if ((0, _style2.default)(node, 'position') === 'fixed') {\n    offset = node.getBoundingClientRect();\n  } else {\n    offsetParent = offsetParent || (0, _offsetParent2.default)(node);\n    offset = (0, _offset2.default)(node);\n\n    if (nodeName(offsetParent) !== 'html') parentOffset = (0, _offset2.default)(offsetParent);\n\n    parentOffset.top += parseInt((0, _style2.default)(offsetParent, 'borderTopWidth'), 10) - (0, _scrollTop2.default)(offsetParent) || 0;\n    parentOffset.left += parseInt((0, _style2.default)(offsetParent, 'borderLeftWidth'), 10) - (0, _scrollLeft2.default)(offsetParent) || 0;\n  }\n\n  // Subtract parent offsets and node margins\n  return _extends({}, offset, {\n    top: offset.top - parentOffset.top - (parseInt((0, _style2.default)(node, 'marginTop'), 10) || 0),\n    left: offset.left - parentOffset.left - (parseInt((0, _style2.default)(node, 'marginLeft'), 10) || 0)\n  });\n}\nmodule.exports = exports['default'];"]}