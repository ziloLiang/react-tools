{"version":3,"sources":["node_modules/babel-polyfill/node_modules/core-js/modules/_microtask.js"],"names":["global","require","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","Promise","isNode","module","exports","head","last","notify","flush","parent","fn","domain","exit","next","e","undefined","enter","nextTick","toggle","node","document","createTextNode","observe","characterData","data","resolve","promise","then","call","task"],"mappings":";;AAAA,IAAIA,SAAYC,QAAQ,WAAR,CAAhB;AAAA,IACIC,YAAYD,QAAQ,SAAR,EAAmBE,GADnC;AAAA,IAEIC,WAAYJ,OAAOK,gBAAP,IAA2BL,OAAOM,sBAFlD;AAAA,IAGIC,UAAYP,OAAOO,OAHvB;AAAA,IAIIC,UAAYR,OAAOQ,OAJvB;AAAA,IAKIC,SAAYR,QAAQ,QAAR,EAAkBM,OAAlB,KAA8B,SAL9C;;AAOAG,OAAOC,OAAP,GAAiB,YAAU;AACzB,MAAIC,IAAJ,EAAUC,IAAV,EAAgBC,MAAhB;;AAEA,MAAIC,QAAQ,SAARA,KAAQ,GAAU;AACpB,QAAIC,MAAJ,EAAYC,EAAZ;AACA,QAAGR,WAAWO,SAAST,QAAQW,MAA5B,CAAH,EAAuCF,OAAOG,IAAP;AACvC,WAAMP,IAAN,EAAW;AACTK,WAAOL,KAAKK,EAAZ;AACAL,aAAOA,KAAKQ,IAAZ;AACA,UAAI;AACFH;AACD,OAFD,CAEE,OAAMI,CAAN,EAAQ;AACR,YAAGT,IAAH,EAAQE,SAAR,KACKD,OAAOS,SAAP;AACL,cAAMD,CAAN;AACD;AACF,KAACR,OAAOS,SAAP;AACF,QAAGN,MAAH,EAAUA,OAAOO,KAAP;AACX,GAfD;;AAiBA;AACA,MAAGd,MAAH,EAAU;AACRK,aAAS,kBAAU;AACjBP,cAAQiB,QAAR,CAAiBT,KAAjB;AACD,KAFD;AAGF;AACC,GALD,MAKO,IAAGX,QAAH,EAAY;AACjB,QAAIqB,SAAS,IAAb;AAAA,QACIC,OAASC,SAASC,cAAT,CAAwB,EAAxB,CADb;AAEA,QAAIxB,QAAJ,CAAaW,KAAb,EAAoBc,OAApB,CAA4BH,IAA5B,EAAkC,EAACI,eAAe,IAAhB,EAAlC,EAHiB,CAGyC;AAC1DhB,aAAS,kBAAU;AACjBY,WAAKK,IAAL,GAAYN,SAAS,CAACA,MAAtB;AACD,KAFD;AAGF;AACC,GARM,MAQA,IAAGjB,WAAWA,QAAQwB,OAAtB,EAA8B;AACnC,QAAIC,UAAUzB,QAAQwB,OAAR,EAAd;AACAlB,aAAS,kBAAU;AACjBmB,cAAQC,IAAR,CAAanB,KAAb;AACD,KAFD;AAGF;AACA;AACA;AACA;AACA;AACA;AACC,GAXM,MAWA;AACLD,aAAS,kBAAU;AACjB;AACAZ,gBAAUiC,IAAV,CAAenC,MAAf,EAAuBe,KAAvB;AACD,KAHD;AAID;;AAED,SAAO,UAASE,EAAT,EAAY;AACjB,QAAImB,OAAO,EAACnB,IAAIA,EAAL,EAASG,MAAME,SAAf,EAAX;AACA,QAAGT,IAAH,EAAQA,KAAKO,IAAL,GAAYgB,IAAZ;AACR,QAAG,CAACxB,IAAJ,EAAS;AACPA,aAAOwB,IAAP;AACAtB;AACD,KAACD,OAAOuB,IAAP;AACH,GAPD;AAQD,CA5DD","file":"_microtask.js","sourceRoot":"/Users/liangdong06/work/react-tools","sourcesContent":["var global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};"]}