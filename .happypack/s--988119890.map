{"version":3,"sources":["node_modules/remarkable/lib/common/utils.js"],"names":["typeOf","obj","Object","prototype","toString","call","isString","hasOwn","hasOwnProperty","has","object","key","assign","sources","slice","arguments","forEach","source","TypeError","keys","UNESCAPE_MD_RE","unescapeMd","str","indexOf","replace","isValidEntityCode","c","fromCodePoint","surrogate1","surrogate2","String","fromCharCode","NAMED_ENTITY_RE","DIGITAL_ENTITY_TEST_RE","entities","require","replaceEntityPattern","match","name","code","charCodeAt","test","toLowerCase","parseInt","replaceEntities","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","ch","escapeHtml","exports"],"mappings":"AAAA;;AAEA;;;;;;AAIA,SAASA,MAAT,CAAgBC,GAAhB,EAAqB;AACnB,SAAOC,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BJ,GAA/B,CAAP;AACD;;AAED,SAASK,QAAT,CAAkBL,GAAlB,EAAuB;AACrB,SAAOD,OAAOC,GAAP,MAAgB,iBAAvB;AACD;;AAED,IAAIM,SAASL,OAAOC,SAAP,CAAiBK,cAA9B;;AAEA,SAASC,GAAT,CAAaC,MAAb,EAAqBC,GAArB,EAA0B;AACxB,SAAOD,SACHH,OAAOF,IAAP,CAAYK,MAAZ,EAAoBC,GAApB,CADG,GAEH,KAFJ;AAGD;;AAED;AACA;AACA,SAASC,MAAT,CAAgBX,GAAhB,CAAoB,4BAApB,EAAkD;AAChD,MAAIY,UAAU,GAAGC,KAAH,CAAST,IAAT,CAAcU,SAAd,EAAyB,CAAzB,CAAd;;AAEAF,UAAQG,OAAR,CAAgB,UAAUC,MAAV,EAAkB;AAChC,QAAI,CAACA,MAAL,EAAa;AAAE;AAAS;;AAExB,QAAI,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC;AAC9B,YAAM,IAAIC,SAAJ,CAAcD,SAAS,gBAAvB,CAAN;AACD;;AAEDf,WAAOiB,IAAP,CAAYF,MAAZ,EAAoBD,OAApB,CAA4B,UAAUL,GAAV,EAAe;AACzCV,UAAIU,GAAJ,IAAWM,OAAON,GAAP,CAAX;AACD,KAFD;AAGD,GAVD;;AAYA,SAAOV,GAAP;AACD;;AAED;;AAEA,IAAImB,iBAAiB,4CAArB;;AAEA,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACvB,MAAIA,IAAIC,OAAJ,CAAY,IAAZ,IAAoB,CAAxB,EAA2B;AAAE,WAAOD,GAAP;AAAa;AAC1C,SAAOA,IAAIE,OAAJ,CAAYJ,cAAZ,EAA4B,IAA5B,CAAP;AACD;;AAED;;AAEA,SAASK,iBAAT,CAA2BC,CAA3B,EAA8B;AAC5B;AACA;AACA,MAAIA,KAAK,MAAL,IAAeA,KAAK,MAAxB,EAAgC;AAAE,WAAO,KAAP;AAAe;AACjD;AACA,MAAIA,KAAK,MAAL,IAAeA,KAAK,MAAxB,EAAgC;AAAE,WAAO,KAAP;AAAe;AACjD,MAAI,CAACA,IAAI,MAAL,MAAiB,MAAjB,IAA2B,CAACA,IAAI,MAAL,MAAiB,MAAhD,EAAwD;AAAE,WAAO,KAAP;AAAe;AACzE;AACA,MAAIA,KAAK,IAAL,IAAaA,KAAK,IAAtB,EAA4B;AAAE,WAAO,KAAP;AAAe;AAC7C,MAAIA,MAAM,IAAV,EAAgB;AAAE,WAAO,KAAP;AAAe;AACjC,MAAIA,KAAK,IAAL,IAAaA,KAAK,IAAtB,EAA4B;AAAE,WAAO,KAAP;AAAe;AAC7C,MAAIA,KAAK,IAAL,IAAaA,KAAK,IAAtB,EAA4B;AAAE,WAAO,KAAP;AAAe;AAC7C;AACA,MAAIA,IAAI,QAAR,EAAkB;AAAE,WAAO,KAAP;AAAe;AACnC,SAAO,IAAP;AACD;;AAED,SAASC,aAAT,CAAuBD,CAAvB,EAA0B;AACxB;AACA,MAAIA,IAAI,MAAR,EAAgB;AACdA,SAAK,OAAL;AACA,QAAIE,aAAa,UAAUF,KAAK,EAAf,CAAjB;AAAA,QACIG,aAAa,UAAUH,IAAI,KAAd,CADjB;;AAGA,WAAOI,OAAOC,YAAP,CAAoBH,UAApB,EAAgCC,UAAhC,CAAP;AACD;AACD,SAAOC,OAAOC,YAAP,CAAoBL,CAApB,CAAP;AACD;;AAED,IAAIM,kBAAoB,4BAAxB;AACA,IAAIC,yBAAyB,oCAA7B;AACA,IAAIC,WAAWC,QAAQ,YAAR,CAAf;;AAEA,SAASC,oBAAT,CAA8BC,KAA9B,EAAqCC,IAArC,EAA2C;AACzC,MAAIC,OAAO,CAAX;;AAEA,MAAI9B,IAAIyB,QAAJ,EAAcI,IAAd,CAAJ,EAAyB;AACvB,WAAOJ,SAASI,IAAT,CAAP;AACD,GAFD,MAEO,IAAIA,KAAKE,UAAL,CAAgB,CAAhB,MAAuB,IAAvB,CAA2B,OAA3B,IAAsCP,uBAAuBQ,IAAvB,CAA4BH,IAA5B,CAA1C,EAA6E;AAClFC,WAAOD,KAAK,CAAL,EAAQI,WAAR,OAA0B,GAA1B,GACLC,SAASL,KAAKxB,KAAL,CAAW,CAAX,CAAT,EAAwB,EAAxB,CADK,GAGL6B,SAASL,KAAKxB,KAAL,CAAW,CAAX,CAAT,EAAwB,EAAxB,CAHF;AAIA,QAAIW,kBAAkBc,IAAlB,CAAJ,EAA6B;AAC3B,aAAOZ,cAAcY,IAAd,CAAP;AACD;AACF;AACD,SAAOF,KAAP;AACD;;AAED,SAASO,eAAT,CAAyBtB,GAAzB,EAA8B;AAC5B,MAAIA,IAAIC,OAAJ,CAAY,GAAZ,IAAmB,CAAvB,EAA0B;AAAE,WAAOD,GAAP;AAAa;;AAEzC,SAAOA,IAAIE,OAAJ,CAAYQ,eAAZ,EAA6BI,oBAA7B,CAAP;AACD;;AAED;;AAEA,IAAIS,sBAAsB,QAA1B;AACA,IAAIC,yBAAyB,SAA7B;AACA,IAAIC,oBAAoB;AACtB,OAAK,OADiB;AAEtB,OAAK,MAFiB;AAGtB,OAAK,MAHiB;AAItB,OAAK;AAJiB,CAAxB;;AAOA,SAASC,iBAAT,CAA2BC,EAA3B,EAA+B;AAC7B,SAAOF,kBAAkBE,EAAlB,CAAP;AACD;;AAED,SAASC,UAAT,CAAoB5B,GAApB,EAAyB;AACvB,MAAIuB,oBAAoBJ,IAApB,CAAyBnB,GAAzB,CAAJ,EAAmC;AACjC,WAAOA,IAAIE,OAAJ,CAAYsB,sBAAZ,EAAoCE,iBAApC,CAAP;AACD;AACD,SAAO1B,GAAP;AACD;;AAED;;AAEA6B,QAAQvC,MAAR,GAA4BA,MAA5B;AACAuC,QAAQ7C,QAAR,GAA4BA,QAA5B;AACA6C,QAAQ1C,GAAR,GAA4BA,GAA5B;AACA0C,QAAQ9B,UAAR,GAA4BA,UAA5B;AACA8B,QAAQ1B,iBAAR,GAA4BA,iBAA5B;AACA0B,QAAQxB,aAAR,GAA4BA,aAA5B;AACAwB,QAAQP,eAAR,GAA4BA,eAA5B;AACAO,QAAQD,UAAR,GAA4BA,UAA5B","file":"utils.js","sourceRoot":"/Users/liangdong06/work/react-tools","sourcesContent":["'use strict';\n\n/**\n * Utility functions\n */\n\nfunction typeOf(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isString(obj) {\n  return typeOf(obj) === '[object String]';\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return object\n    ? hasOwn.call(object, key)\n    : false;\n}\n\n// Extend objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = [].slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar UNESCAPE_MD_RE = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\nvar NAMED_ENTITY_RE   = /&([a-z#][a-z0-9]{1,31});/gi;\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  } else if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n  return match;\n}\n\nfunction replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(NAMED_ENTITY_RE, replaceEntityPattern);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nexports.assign            = assign;\nexports.isString          = isString;\nexports.has               = has;\nexports.unescapeMd        = unescapeMd;\nexports.isValidEntityCode = isValidEntityCode;\nexports.fromCodePoint     = fromCodePoint;\nexports.replaceEntities   = replaceEntities;\nexports.escapeHtml        = escapeHtml;\n"]}